{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty;var i=c=>l(c,\"__esModule\",{value:!0});var N=(c,e)=>()=>(e||c((e={exports:{}}).exports,e),e.exports),x=(c,e)=>{i(c);for(var s in e)l(c,s,{get:e[s],enumerable:!0})},w=(c,e,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let n of m(e))!o.call(c,n)&&n!==\"default\"&&l(c,n,{get:()=>e[n],enumerable:!(s=r(e,n))||s.enumerable});return c},g=c=>w(i(l(c!=null?h(p(c)):{},\"default\",c&&c.__esModule&&\"default\"in c?{get:()=>c.default,enumerable:!0}:{value:c,enumerable:!0})),c);var d=N((y,t)=>{t.exports=_jsx_runtime});var f={};x(f,{default:()=>u,frontmatter:()=>v});var a=g(d()),v={title:\"node\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u6613git-commit\",date:new Date(1628330403e3),category:\"git\",tags:[\"2021\",\"git\"],draft:!1};function b(c){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",code:\"code\",pre:\"pre\",div:\"div\",h3:\"h3\",img:\"img\",ol:\"ol\",li:\"li\"},c.components),{wrapper:s}=e,n=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.h2,{id:\"\\u524D\\u7F6E\\u77E5\\u8BC6\",children:[(0,a.jsx)(e.a,{href:\"#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u7F6E\\u77E5\\u8BC6\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u6267\\u884C\",(0,a.jsx)(e.code,{children:\"git commit\"}),\"\\u65F6\\u4F1A\\u751F\\u6210git\\u5BF9\\u8C61\\u4E2D\\u7684\\u53E6\\u5916\\u4E24\\u4E2A\\u5BF9\\u8C61--tree (\\u6811) \\u5BF9\\u8C61\\u548Ccommit (\\u63D0\\u4EA4) \\u5BF9\\u8C61\\uFF0C\\u90FD\\u4FDD\\u5B58\\u5728\",(0,a.jsx)(e.code,{children:\".git/objects\"}),\"\\u76EE\\u5F55\\u4E2D \\uFF0C\\u548C\\u5B58\\u50A8 (\\u6570\\u636E) \\u5BF9\\u8C61\\u7C7B\\u4F3C\\uFF0C\\u6587\\u4EF6\\u540D\\u90FD\\u662F\\u4E00\\u4E32hash\\u503C\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u65B0\\u5EFA\\u4E00\\u4E2A\\u76EE\\u5F55\\uFF0C\\u521D\\u59CB\\u5316git \",(0,a.jsx)(e.code,{children:\"git init\"}),\", \\u521B\\u5EFA\\u4E00\\u4E2A\\u76EE\\u5F55+\\u6587\\u4EF6\\u548C\\u4E00\\u4E2A\\u6587\\u4EF6\"]}),`\n`,(0,a.jsx)(e.pre,{children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.div,{className:\"code-line\",children:\"mkdir dir \"}),(0,a.jsx)(e.div,{className:\"code-line\",children:'echo \"hello,world\" > dir/file'}),(0,a.jsx)(e.div,{className:\"code-line\",children:'echo \"hello,world\" > test'})]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u6267\\u884C\",(0,a.jsx)(e.code,{children:\"git add . && git commit -m 1\"})]}),`\n`,(0,a.jsxs)(e.h3,{id:\"\\u5B58\\u50A8-\\u6570\\u636E-\\u5BF9\\u8C61\",children:[(0,a.jsx)(e.a,{href:\"#%E5%AD%98%E5%82%A8-%E6%95%B0%E6%8D%AE-%E5%AF%B9%E8%B1%A1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B58\\u50A8 (\\u6570\\u636E) \\u5BF9\\u8C61\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:\"git ls-files -s\"}),\"\\u67E5\\u770Bindex\\u4E2D\\u7684\\u5185\\u5BB9, \\u53EF\\u4EE5\\u770B\\u5230\\u9488\\u5BF9\\u6CA1\\u4E2A\\u6587\\u4EF6\\u90FD\\u6709\\u4E00\\u4E2A\\u5B58\\u50A8\\u5BF9\\u8C61\"]}),`\n`,(0,a.jsx)(e.pre,{children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.div,{className:\"code-line\",children:\"100644 2d832d9044c698081e59c322d5a2a459da546469 0       dir/file\"}),(0,a.jsx)(e.div,{className:\"code-line\",children:\"100644 2d832d9044c698081e59c322d5a2a459da546469 0       test\"})]})}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:\"git cat-file -p 2d832d9044c698081e59c322d5a2a459da546469\"}),\"\\u53EF\\u4EE5\\u770B\\u5230\\u5B58\\u50A8\\u5BF9\\u8C61\\u7684\\u5185\\u5BB9\\uFF0C\\u5C31\\u662F\\u6211\\u4EEC\\u521B\\u5EFA\\u6587\\u4EF6\\u7684\\u5185\\u5BB9\"]}),`\n`,(0,a.jsxs)(e.h3,{id:\"commit-\\u63D0\\u4EA4-\\u5BF9\\u8C61\",children:[(0,a.jsx)(e.a,{href:\"#commit-%E6%8F%90%E4%BA%A4-%E5%AF%B9%E8%B1%A1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"commit (\\u63D0\\u4EA4) \\u5BF9\\u8C61\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u770B\\u63D0\\u4EA4\\u5BF9\\u8C61, \",(0,a.jsx)(e.code,{children:\"cat .git/refs/heads/master\"}),\"\\u53EF\\u4EE5\\u770B\\u5230\\u63D0\\u4EA4\\u5BF9\\u8C61\\u7684\\u6587\\u4EF6\\u540D\\uFF0C\\u7136\\u540E\",(0,a.jsx)(e.code,{children:\"git cat-file -p d34b4b70b9ffd02ca9f9e0793bca1ebf625bbb56\"}),\"\\u53EF\\u4EE5\\u770B\\u5230\\u63D0\\u4EA4\\u5BF9\\u8C61\\u7684\\u5185\\u5BB9\\uFF1A\"]}),`\n`,(0,a.jsx)(e.pre,{children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.div,{className:\"code-line\",children:\"tree 7ba1b0ff40e0a1be5034fac5234feec65ab8d57f\"}),(0,a.jsx)(e.div,{className:\"code-line\",children:\"author houbinbin <houbb@neocrm.com> 1628302598 +0800\"}),(0,a.jsx)(e.div,{className:\"code-line\",children:\"committer houbinbin <houbb@neocrm.com> 1628302598 +0800\"}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsx)(e.div,{className:\"code-line\",children:\"1\"})]})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u91CC\\u8FB9\\u5B58\\u7740\\u9876\\u5C42\\u6811\\u5BF9\\u8C61\\u7684\\u4FE1\\u606F \\u4F5C\\u8005/\\u63D0\\u4EA4\\u8005\\u4FE1\\u606F\\u3001\\u524D\\u65F6\\u95F4\\u6233\\u3001\\u4E00\\u4E2A\\u7A7A\\u884C\\uFF0C\\u4EE5\\u53CA\\u63D0\\u4EA4\\u6CE8\\u91CA\\u4FE1\\u606F\"}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:\"git cat-file -p d34b4b70b9ffd02ca9f9e0793bca1ebf625bbb56\"}),` : commit\n`,(0,a.jsx)(e.img,{src:\"./02.png\",alt:\"\"})]}),`\n`,(0,a.jsxs)(e.h3,{id:\"tree-\\u6811-\\u5BF9\\u8C61\",children:[(0,a.jsx)(e.a,{href:\"#tree-%E6%A0%91-%E5%AF%B9%E8%B1%A1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"tree (\\u6811) \\u5BF9\\u8C61\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,a.jsx)(e.code,{children:\"git cat-file -p 7ba1b0ff40e0a1be5034fac5234feec65ab8d57f\"}),\"\\u53EF\\u4EE5\\u770B\\u5230\\u6811\\u5BF9\\u8C61\\u7684\\u5185\\u5BB9\"]}),`\n`,(0,a.jsx)(e.pre,{children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.div,{className:\"code-line\",children:\"040000 tree 6674ad3a0df49acc4cc923b586bb1a8ddc232185    dir\"}),(0,a.jsx)(e.div,{className:\"code-line\",children:\"100644 blob 2d832d9044c698081e59c322d5a2a459da546469    test\"})]})}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:\"git cat-file -t 7ba1b0ff40e0a1be5034fac5234feec65ab8d57f\"}),\": tree\"]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:\"./03.png\",alt:\"\"})}),`\n`,(0,a.jsxs)(e.h2,{id:\"\\u6E90\\u7801\\u7B80\\u5355\\u5B9E\\u73B0\",children:[(0,a.jsx)(e.a,{href:\"#%E6%BA%90%E7%A0%81%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6E90\\u7801\\u7B80\\u5355\\u5B9E\\u73B0\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u6267\\u884C\",(0,a.jsx)(e.code,{children:\"git commit\"}),\"\\u65F6\\uFF0C\\u9700\\u8981\\u4ECEindex\\u6587\\u4EF6\\u4E2D\\u53D6\\u51FA\\u5185\\u5BB9\\u9012\\u5F52\\u5199\\u6811\\u5BF9\\u8C61\\uFF0C\\u6811\\u5BF9\\u8C61\\u5199\\u5B8C\\u540E\\u8BB0\\u5F55\\u9876\\u5C42\\u7684\\u6811\\u5BF9\\u8C61\\u5185\\u5BB9\\u5230commit\\u5BF9\\u8C61\\u4E2D\\uFF0C\\u5199commit\\u5BF9\\u8C61\\uFF0Ccommit\\u5BF9\\u8C61\\u5199\\u5B8C\\u540E\\u627E\\u5230\",(0,a.jsx)(e.code,{children:\".git/HEAD\"}),\"\\u6587\\u4EF6\\u4E2D\\u7684\\u5206\\u652F\\u540D\\u79F0\\uFF0C\\u5728\",(0,a.jsx)(e.code,{children:\".git/refs/heads/master\"}),\"\\u6587\\u4EF6\\u4E2D\\u66F4\\u65B0\\u521A\\u5199\\u5B8C\\u7684commit\\u5BF9\\u8C61hash(commitID)\"]}),`\n`,(0,a.jsx)(e.p,{children:\"\\u6240\\u6709\\u5F02\\u5E38\\u5148\\u4E0D\\u8003\\u8651\\uFF0C\\u5B9E\\u73B0\\u6838\\u5FC3\\u903B\\u8F91\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" fs \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"require\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'fs'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" path \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"require\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'path'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),\" createHash \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"require\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'crypto'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),\" set\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" isString \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"require\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'lodash'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"hash\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"\",children:\"str\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"createHash\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'sha1'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"update\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"str\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"digest\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'hex'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" gitDir \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"process\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"cwd\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'.ngit'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// \\u4ECEindex\\u4E2D\\u53D6\\u51FA\\u6240\\u6709\\u6570\\u636E { 'test/file': '7317399078361350034a7b769c6ea479ca1ebc4a', 'test2/file1' '1323131 }\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" indexObj \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" fs\"]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"readFileSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'index'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'utf8'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'\\\\n'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"\",children:\"i\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=>\"}),\" i\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"\",children:[\"acc\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" cur\"]}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"      acc\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),\"cur\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" cur\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"      \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"return\"}),\" acc\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// \\u5904\\u7406index\\u6570\\u636E { test: { file: '7317399078361350034a7b769c6ea479ca1ebc4a' } }\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" treeObject \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"Object\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"keys\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"indexObj\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"\",children:[\"acc\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" cur\"]}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" objectPath \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" cur\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'/'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"join\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'.'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"set\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"acc\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" objectPath\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" indexObj\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),\"cur\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"return\"}),\" acc\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// \\u83B7\\u53D6\\u6811 tree hash\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"genTreeHash\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"\",children:[\"tree\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" isWrite\"]}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" treeStr \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"\",children:\"Object\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"keys\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"tree\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"      \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"\",children:\"key\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"=>\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"        \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"isString\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"tree\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),\"key\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"?\"}),\" \",(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"`\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"blob \"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),\"tree\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),\"key\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\" \"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),\"key\",(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"\",children:\"`\"})]}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\":\"}),\" \",(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"`\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"tree \"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"genTreeHash\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"tree\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),\"key\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" isWrite\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\" \"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),\"key\",(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"\",children:\"`\"})]}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"      \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"      \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"join\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'\\\\n'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'\\\\n'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" treeHash \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"hash\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"treeStr\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"isWrite\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"    fs\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"writeFileSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'objects'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" treeHash\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" treeStr\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"return\"}),\" treeHash\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// \\u83B7\\u53D6\\u9876\\u5C42\\u7684\\u6811\\u5BF9\\u8C61\\uFF0C\\u5E76\\u5199\\u5165\\u6811\\u5BF9\\u8C61\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" treeHash \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"genTreeHash\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"treeObject\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-red\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// \\u83B7\\u53D6\\u5F53\\u524D\\u5206\\u652F\\u540D\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" heads \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" fs\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"readFileSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'HEAD'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'utf8'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"match\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'refs/heads/(.+)'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"let\"}),\" commitParentHash \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"''\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"fs\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"existsSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'refs/heads'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" heads\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  commitParentHash \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" fs\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"readFileSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'refs/heads'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" heads\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'utf8'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" message \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" m\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" commitStr \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" `tree $\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),\"treeHash\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),\"\\\\n$\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"  commitParentHash \",(0,a.jsx)(e.span,{className:\"\",children:\"?\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'parent '\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"+\"}),\" commitParentHash \",(0,a.jsx)(e.span,{className:\"\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'\\\\n'\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"''\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"\",children:\"Date\"}),\" $\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"new\"}),\" \",(0,a.jsx)(e.span,{className:\"\",children:\"Date\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"toString\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),\"\\\\n\\\\n$\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"{\"}),\"message\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"}\"}),\"\\\\n`\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"const\"}),\" commitHash \",(0,a.jsx)(e.span,{className:\"\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-blue\",children:\"hash\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"commitStr\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// \\u5199commit \\u5BF9\\u8C61\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"fs\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"writeFileSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'objects'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" commitHash\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" commitStr\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsx)(e.div,{className:\"code-line\",children:(0,a.jsx)(e.span,{className:\"text-gray-400 italic\",children:\"// ref\\u91CC\\u5199\\u503C\"})}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[\"fs\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"writeFileSync\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"path\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\".\"}),(0,a.jsx)(e.span,{className:\"\",children:\"resolve\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\"(\"}),\"gitDir\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"'refs/heads'\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" heads\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\",\"}),\" commitHash\",(0,a.jsx)(e.span,{className:\"text-code-white\",children:\")\"}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]}),(0,a.jsx)(e.div,{className:\"code-line\",children:`\n`}),(0,a.jsxs)(e.div,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"text-code-purple\",children:\"return\"}),\" \",(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"`\"}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"[\"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),\"heads\",(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\" \"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),\"commitHash\",(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"text-code-green\",children:\"] \"}),(0,a.jsxs)(e.span,{className:\"\",children:[(0,a.jsx)(e.span,{className:\"\",children:\"${\"}),\"message\",(0,a.jsx)(e.span,{className:\"\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"\",children:\"`\"})]}),(0,a.jsx)(e.span,{className:\"text-code-white\",children:\";\"})]})]})}),`\n`,(0,a.jsxs)(e.h2,{id:\"\\u53C2\\u8003\\uFF1A\",children:[(0,a.jsx)(e.a,{href:\"#%E5%8F%82%E8%80%83%EF%BC%9A\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\\uFF1A\"]}),`\n`,(0,a.jsxs)(e.ol,{children:[`\n`,(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:\"https://gitee.com/progit\",children:\"progit\"})}),`\n`,(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:\"http://gitlet.maryrosecook.com/docs/gitlet.html\",children:\"gitlet\"})}),`\n`]})]});return s?(0,a.jsx)(s,Object.assign({},c,{children:n})):n}var u=b;return f;})();\n;return Component.default;","toc":[{"value":"前置知识","url":"#前置知识","depth":2},{"value":"存储 (数据) 对象","url":"#存储-数据-对象","depth":3},{"value":"commit (提交) 对象","url":"#commit-提交-对象","depth":3},{"value":"tree (树) 对象","url":"#tree-树-对象","depth":3},{"value":"源码简单实现","url":"#源码简单实现","depth":2},{"value":"参考：","url":"#参考：","depth":2}],"frontMatter":{"readingTime":{"text":"2 min read","minutes":1.7,"time":102000,"words":340},"slug":"node实现一个简易git-commit/index","fileName":"node实现一个简易git-commit/index.md","title":"node实现一个简易git-commit","date":"2021-08-07T10:00:03.000Z","category":"git","tags":["2021","git"],"draft":false}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.145,"time":8700,"words":29},"slug":["default"],"fileName":"default.md","name":"Later","avatar":"/static/images/avatar.png","occupation":"前端开发工程师","company":"销售易","email":"474151949@qq.com","github":"https://github.com","date":null}],"prev":{"title":"node实现一个简易git-add","date":"2021-08-02T16:33:03.000Z","category":"git","tags":["2021","git"],"draft":false,"slug":"node实现一个简易git-add/index"},"next":{"title":"node实现一个简易git-rm","date":"2021-08-07T10:43:03.000Z","category":"git","tags":["2021","git"],"draft":false,"slug":"node实现一个简易git-rm/index"}},"__N_SSG":true}